package com.example.hsdj;

import android.content.Intent;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;
import android.widget.Toast;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;

import com.leon.lib.settingview.LSettingItem;

import login.LoginActivity;

public class My_Fragment extends Fragment {
    private TextView username;
    private LSettingItem score;
    private LSettingItem edit_pwd;

    @Override
    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
        View view=inflater.inflate(R.layout.my_fragment,null);
        username=getActivity().findViewById(R.id.username);

        //验证是否登录
        MyApplication application = (MyApplication) getActivity().getApplicationContext();
        if (application.getUserId()==null||"".equals(application.getUserId())){
            Toast.makeText(application, "请先登录！", Toast.LENGTH_SHORT).show();
            Intent intent=new Intent(getActivity(), LoginActivity.class);
            startActivity(intent);
        }else{
            username.setText(application.getUsername());
        }

        score=getActivity().findViewById(R.id.score);
        edit_pwd=getActivity().findViewById(R.id.edit_pwd);

        return view;
    }
}
